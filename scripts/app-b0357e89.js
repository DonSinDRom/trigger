//'use strict';
//
//angular.module('trigger')
//  .controller('MainCtrl', function ($scope, Client) {})
"use strict";var app=angular.module("trigger",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMaterial","btford.socket-io","luegg.directives","angularMoment","ngMdIcons","cfp.hotkeys"]);app.config(["$mdThemingProvider",function(t){t.theme("default").primaryPalette("teal").accentPalette("orange")}]),app.run(["amMoment",function(t){t.changeLocale("ru")}]),app.directive("ngEnter",function(){return function(t,e,a){e.bind("keydown keypress",function(e){13===e.which&&(t.$apply(function(){t.$eval(a.ngEnter,{event:e})}),e.preventDefault())})}}),app.factory("socket",["$rootScope",function(t){var e=io.connect("http://trigger.fm");return{on:function(a,n){e.on(a,function(){var a=arguments;t.$apply(function(){n.apply(e,a)})})},emit:function(a,n,s){e.emit(a,n,function(){var a=arguments;t.$apply(function(){s&&s.apply(e,a)})})}}}]),app.run(["$rootScope","Client","socket",function(t,e,a){function n(a){a.error?console.log(a.error):(e.user=a.user,t.userId=a.user.id,t.load.signed=!0)}t.load={signed:!1,welcome:!1,playlist:!1};var s=localStorage.getItem("username"),i=localStorage.getItem("password");t.title="Trigger",t.userId=0,e.init(location.host),a.on("welcome",function(a){e.channel=a.channels[0],e.getChannels(function(t){e.channels=t.channels,void 0!==s&&void 0!==i&&e.login(s,i,n)}),e.goChannel(1,console.log("Q",a)),t.load.welcome=!0}),t.client=e}]),app.service("Client",["$log",function(){this.version=2205,this.user=null,this.channel={},this.callbacks={},this.chat=null,this.trackscache=[],this.init=function(){console.log("init"),this.socket=io("http://trigger.fm");var t=this.socket,e=this;t.on("getver",function(){t.emit("ver",{v:e.version,init:!0})}),t.on("channeldata",function(){}),t.on("history",function(t){e.callbacks.history(t)}),t.on("channelsdata",function(t){e.channels=t.channels,e.callbacks.channelsdata(t)}),t.on("userdata",function(t){e.callbacks.userdata(t)}),t.on("uvd",function(t){e.callbacks.uvotedata(t)}),t.on("invitestatus",function(t){e.callbacks.invitestatus(t)}),t.on("recoverstatus",function(t){e.callbacks.recover(t)}),t.on("changepass",function(t){e.callbacks.changepass(t)}),t.on("playlist",function(t){e.callbacks.playlist(t)}),t.on("loginstatus",function(t){if(t.error){"nouser"===t.error&&(t.error="Нет такого пользователя"),"wrongpass"===t.error&&(t.error="Не тот пароль")}else e.user=t.user,e.user.t<0&&(e.user.t=0),e.user.nt=new Date(Date.parse(new Date)+e.user.nt);e.callbacks.loginstatus(t)}),t.on("disconnect",function(){e.user=null,e.channel={},e.callbacks={},e.chat=null}),t.on("tags",function(t){e.callbacks.tags(t.t)})},this.login=function(t,e,a){var n=this;n.callbacks.loginstatus=a,this.socket.emit("login",{u:t,p:e})},this.track=function(t,e){var a=this,n=!1;if(t===a.channel.current.id){if(!e)return a.channel.current;e(a.channel.current),n=!0}for(var s in a.channel.pls)if(a.channel.pls[s].id===t){if(!e)return a.channel.pls[s];e(a.channel.pls[s]),n=!0}!n&&e&&this.socket.emit("gettrack",{id:t},function(t){e(t)})},this.getPlaylist=function(t,e){cl=this,cl.callbacks.playlist=e,this.socket.emit("getplaylist",{id:t})},this.goChannel=function(t,e){var a=this;a.callbacks.channeldata=e,this.socket.emit("gochannel",{id:t})},this.getChannels=function(t){var e=this;e.callbacks.channelsdata=t,this.socket.emit("getchannels")},this.tracksubmit=function(t,e){var a=t.form;this.socket.emit("tracksubmit",{chid:this.channel.id,track:t.track},function(t){t.form=a,console.log("data.form: ",t.form),e(t)})},this.adduservote=function(t,e){this.user&&(this.callbacks.uvotedata=e,this.socket.emit("uvote",t))},this.getUser=function(t,e){this.socket.emit("getuser",t,e)},this.getTags=function(t,e){cl=this,cl.callbacks.tags=e,this.socket.emit("gettags",{s:t})},this.getTrackTags=function(t,e,a){cl=this,cl.callbacks.tags=a,this.socket.emit("gettags",{a:t,t:e})},this.addTag=function(t,e){cl=this,cl.callbacks.tags=e,this.socket.emit("addtag",{s:t})},this.killtrack=function(t){cl=this,this.socket.emit("deltrack",{tid:t,chid:cl.channel.chid})},this.sendinvite=function(t,e,a){cl=this,cl.callbacks.invitestatus=a,this.socket.emit("sendinvite",{m:t,c:e})},this.sendextinvite=function(t,e){this.socket.emit("sendextinvite",t,e)},this.logout=function(t){this.socket.emit("logout",{s:!0},t)},this.recover=function(t,e){cl=this,cl.callbacks.recover=e,this.socket.emit("recover",{m:t})},this.changepass=function(t,e,a){cl=this,cl.callbacks.changepass=a,this.socket.emit("changepass",{o:t,n:e})},this.updateUserData=function(t){this.socket.emit("upduserdata",t)},this.updateTrack=function(t){this.socket.emit("updtrack",t)},this.getchannel=function(t){for(var e in this.channels)if(this.channels[e].id===t)return this.channels[e];return!1},this.banuser=function(t,e,a){console.log(e),this.socket.emit("banuser",{id:t,r:e},a)},this.unbanuser=function(t,e){this.socket.emit("unbanuser",{id:t},e)},this.setop=function(t,e){this.socket.emit("setop",t,e)},this.removeop=function(t,e){this.socket.emit("removeop",t,e)},this.setprops=function(t,e){this.socket.emit("setprops",t,e)},this.sendPRVote=function(t,e){this.socket.emit("prvote",t,e)}}]);var app=angular.module("trigger");app.filter("reverse",function(){return function(t){return t.slice().reverse()}}),app.filter("readableTime",function(){return function(t){var e,a,n,t=parseInt(t,10);switch(!1){case!(60>t):n=t;break;case!(3600>t):a=~~(t/60),n=t%60;break;default:e=~~(t/3600),a=~~(t%3600/60),n=t%60}var s="";return e>0&&(s+=""+e+":"+(10>a?"0":"")),s+=a>0?""+a+":"+(10>n?"0":""):"0:",s+=""+n}});var app=angular.module("trigger");app.factory("md5",function(){var t={createHash:function(t){var e,a,n,s,i,r,o,l,c,d,m=function(t,e){return t<<e|t>>>32-e},u=function(t,e){var a,n,s,i,r;return s=2147483648&t,i=2147483648&e,a=1073741824&t,n=1073741824&e,r=(1073741823&t)+(1073741823&e),a&n?2147483648^r^s^i:a|n?1073741824&r?3221225472^r^s^i:1073741824^r^s^i:r^s^i},g=function(t,e,a){return t&e|~t&a},p=function(t,e,a){return t&a|e&~a},h=function(t,e,a){return t^e^a},_=function(t,e,a){return e^(t|~a)},k=function(t,e,a,n,s,i,r){return t=u(t,u(u(g(e,a,n),s),r)),u(m(t,i),e)},v=function(t,e,a,n,s,i,r){return t=u(t,u(u(p(e,a,n),s),r)),u(m(t,i),e)},b=function(t,e,a,n,s,i,r){return t=u(t,u(u(h(e,a,n),s),r)),u(m(t,i),e)},f=function(t,e,a,n,s,i,r){return t=u(t,u(u(_(e,a,n),s),r)),u(m(t,i),e)},w=function(t){for(var e,a=t.length,n=a+8,s=(n-n%64)/64,i=16*(s+1),r=new Array(i-1),o=0,l=0;a>l;)e=(l-l%4)/4,o=l%4*8,r[e]=r[e]|t.charCodeAt(l)<<o,l+=1;return e=(l-l%4)/4,o=l%4*8,r[e]=r[e]|128<<o,r[i-2]=a<<3,r[i-1]=a>>>29,r},y=function(t){var e,a,n="",s="";for(a=0;3>=a;a+=1)e=t>>>8*a&255,s="0"+e.toString(16),n+=s.substr(s.length-2,2);return n},x=[],C=7,$=12,I=17,T=22,S=5,M=9,U=14,D=20,z=4,P=11,E=16,L=23,B=6,A=10,F=15,N=21;for(x=w(t),o=1732584193,l=4023233417,c=2562383102,d=271733878,e=x.length,a=0;e>a;a+=16)n=o,s=l,i=c,r=d,o=k(o,l,c,d,x[a+0],C,3614090360),d=k(d,o,l,c,x[a+1],$,3905402710),c=k(c,d,o,l,x[a+2],I,606105819),l=k(l,c,d,o,x[a+3],T,3250441966),o=k(o,l,c,d,x[a+4],C,4118548399),d=k(d,o,l,c,x[a+5],$,1200080426),c=k(c,d,o,l,x[a+6],I,2821735955),l=k(l,c,d,o,x[a+7],T,4249261313),o=k(o,l,c,d,x[a+8],C,1770035416),d=k(d,o,l,c,x[a+9],$,2336552879),c=k(c,d,o,l,x[a+10],I,4294925233),l=k(l,c,d,o,x[a+11],T,2304563134),o=k(o,l,c,d,x[a+12],C,1804603682),d=k(d,o,l,c,x[a+13],$,4254626195),c=k(c,d,o,l,x[a+14],I,2792965006),l=k(l,c,d,o,x[a+15],T,1236535329),o=v(o,l,c,d,x[a+1],S,4129170786),d=v(d,o,l,c,x[a+6],M,3225465664),c=v(c,d,o,l,x[a+11],U,643717713),l=v(l,c,d,o,x[a+0],D,3921069994),o=v(o,l,c,d,x[a+5],S,3593408605),d=v(d,o,l,c,x[a+10],M,38016083),c=v(c,d,o,l,x[a+15],U,3634488961),l=v(l,c,d,o,x[a+4],D,3889429448),o=v(o,l,c,d,x[a+9],S,568446438),d=v(d,o,l,c,x[a+14],M,3275163606),c=v(c,d,o,l,x[a+3],U,4107603335),l=v(l,c,d,o,x[a+8],D,1163531501),o=v(o,l,c,d,x[a+13],S,2850285829),d=v(d,o,l,c,x[a+2],M,4243563512),c=v(c,d,o,l,x[a+7],U,1735328473),l=v(l,c,d,o,x[a+12],D,2368359562),o=b(o,l,c,d,x[a+5],z,4294588738),d=b(d,o,l,c,x[a+8],P,2272392833),c=b(c,d,o,l,x[a+11],E,1839030562),l=b(l,c,d,o,x[a+14],L,4259657740),o=b(o,l,c,d,x[a+1],z,2763975236),d=b(d,o,l,c,x[a+4],P,1272893353),c=b(c,d,o,l,x[a+7],E,4139469664),l=b(l,c,d,o,x[a+10],L,3200236656),o=b(o,l,c,d,x[a+13],z,681279174),d=b(d,o,l,c,x[a+0],P,3936430074),c=b(c,d,o,l,x[a+3],E,3572445317),l=b(l,c,d,o,x[a+6],L,76029189),o=b(o,l,c,d,x[a+9],z,3654602809),d=b(d,o,l,c,x[a+12],P,3873151461),c=b(c,d,o,l,x[a+15],E,530742520),l=b(l,c,d,o,x[a+2],L,3299628645),o=f(o,l,c,d,x[a+0],B,4096336452),d=f(d,o,l,c,x[a+7],A,1126891415),c=f(c,d,o,l,x[a+14],F,2878612391),l=f(l,c,d,o,x[a+5],N,4237533241),o=f(o,l,c,d,x[a+12],B,1700485571),d=f(d,o,l,c,x[a+3],A,2399980690),c=f(c,d,o,l,x[a+10],F,4293915773),l=f(l,c,d,o,x[a+1],N,2240044497),o=f(o,l,c,d,x[a+8],B,1873313359),d=f(d,o,l,c,x[a+15],A,4264355552),c=f(c,d,o,l,x[a+6],F,2734768916),l=f(l,c,d,o,x[a+13],N,1309151649),o=f(o,l,c,d,x[a+4],B,4149444226),d=f(d,o,l,c,x[a+11],A,3174756917),c=f(c,d,o,l,x[a+2],F,718787259),l=f(l,c,d,o,x[a+9],N,3951481745),o=u(o,n),l=u(l,s),c=u(c,i),d=u(d,r);var R=y(o)+y(l)+y(c)+y(d);return R.toLowerCase()}};return t}),angular.module("trigger").controller("UserCtrl",["$scope","$rootScope","Client",function(t,e,a){t.user={},t.$watch(function(){return e.load.signed},function(){e.load.signed===!0&&a.getUser({id:e.userId},function(e){e.karma=e.p.length-e.n.length,t.user=e,t.$digest()}),t.load.signed=e.load.signed},!0)}]),angular.module("trigger").controller("UploadsCtrl",["$scope","$rootScope","Client",function(t,e,a){t.tracks=[],t.$watch(function(){return e.load.signed},function(){e.load.signed===!0&&a.getUser({id:e.userId,uplshift:0},function(e){t.tracks=e,t.$digest()}),t.load.signed=e.load.signed},!0)}]),angular.module("trigger").controller("UploadCtrl",function(){}),angular.module("trigger").controller("SettingsCtrl",function(){}),angular.module("trigger").controller("ProfileCtrl",["$scope",function(t){t.data={selectedIndex:0,secondLocked:!0,secondLabel:"Item Two"},t.isMyProfile=!1,t.next=function(){t.data.selectedIndex=Math.min(t.data.selectedIndex+1,2)},t.previous=function(){t.data.selectedIndex=Math.max(t.data.selectedIndex-1,0)}}]),angular.module("trigger").controller("PlusesCtrl",["$scope","$rootScope","Client",function(t,e,a){t.tracks=[],t.$watch(function(){return e.load.signed},function(){e.load.signed===!0&&a.getUser({id:e.userId,uplshift:0,p:!0},function(e){t.tracks=e,t.$digest()}),t.load.signed=e.load.signed},!0)}]),angular.module("trigger").controller("PlaylistCtrl",["$scope","$rootScope","$mdSidenav","Client","socket","$interval","hotkeys",function(t,e,a,n,s,i,r){function o(){for(var e=t.playlist.length,a=0;e>a;a++){for(var s in t.playlist[a].p)if(t.playlist[a].p[s].vid===n.user.id){t.playlist[a].vote=n.user.w;break}for(var s in t.playlist[a].n)if(t.playlist[a].n[s].vid===n.user.id){t.playlist[a].vote=-n.user.w;break}}for(var s in t.track.p)if(t.track.p[s].vid===n.user.id){t.track.vote=n.user.w;break}for(var s in t.track.n)if(t.track.n[s].vid===n.user.id){t.track.vote=-n.user.w;break}}function l(t){t.chid=n.channel.id,s.emit("vote",t)}r.bindTo(t).add({combo:"alt+up",description:"Up current track",allowIn:["INPUT","SELECT","TEXTAREA"],callback:function(){l({id:t.track.id,v:n.user.w}),console.log("alt+up")}}).add({combo:"alt+down",description:"Down current track",allowIn:["INPUT","SELECT","TEXTAREA"],callback:function(){l({id:t.track.id,v:-1*n.user.w}),console.log("alt+down")}}),t.reverse=0;var c=window.innerWidth>0?window.innerWidth:screen.width;960>=c&&(t.reverse=1),t.toggleLeft=function(){a("left").toggle()},t.toggleRight=function(){a("right").toggle()},t.load.signed=!1,t.playlist=[],t.track={},t.$watch(function(){return e.load.welcome},function(){e.load.welcome===!0&&(t.track=n.channel.current,e.title="+D"+n.channel.current.a+" - "+n.channel.current.t+" @ Trigger")},!0),s.on("newcurrent",function(a){if(t.load.signed===!0){for(var s in a.track.p)if(a.track.p[s].vid===n.user.id){a.track.vote=n.user.w;break}for(var s in a.track.n)if(a.track.n[s].vid===n.user.id){a.track.vote=-n.user.w;break}}n.channel.current=a.track,t.stopTimer(),t.starTimer(0,a.track.tt),t.track=a.track,e.title="! "+a.track.a+" - "+a.track.t+" @ Trigger";for(var i=t.playlist.length,r=0;i>r;r++)if(t.playlist[r].id===a.tid||t.playlist[r].id===a.track.id){t.playlist.splice(r,1);break}}),t.$watch(function(){return e.load.signed},function(){e.load.signed===!0&&o(),t.load.signed=e.load.signed},!0),t.$watch(function(){return e.load.welcome},function(){e.load.welcome===!0&&(t.track=n.channel.current)},!0),s.on("uptr",function(e){if(e.t.id===n.channel.current.id){if(t.load.signed===!0){for(var a in e.t.p)if(e.t.p[a].vid===n.user.id){e.t.vote=n.user.w;break}for(var a in e.t.n)if(e.t.n[a].vid===n.user.id){e.t.vote=-1*n.user.w;break}}t.track=e.t}else{for(var s,i=t.playlist.length,r=0;i>r;r++)if(t.playlist[r].id===e.t.id){s=r,t.playlist[r]=e.t;break}if(t.load.signed===!0){for(var a in e.t.p)if(e.t.p[a].vid===n.user.id){e.t.vote=n.user.w;break}for(var a in e.t.n)if(e.t.n[a].vid===n.user.id){e.t.vote=-1*n.user.w;break}}}}),s.on("addtrack",function(e){e.track.src="img/nocover.png";var a=e.track;a.vote=0;for(var s=t.playlist.length,i=!1,r=0;s>r;r++)if(t.playlist[r].id===e.id){i=!0;break}if(i===!1){if(t.load.signed===!0){for(var o in e.p)if(e.p[o].vid===n.user.id){e.vote=n.user.w;break}for(var o in e.n)if(e.n[o].vid===n.user.id){e.vote=-1*n.user.w;break}}t.playlist.push(a)}}),s.on("removetrack",function(e){for(var a=t.playlist.length,n=0;a>n;n++)if(t.playlist[n].id===e.tid){t.playlist.splice(n,1);break}}),t.voteUp=function(t){var e=window.innerWidth>0?window.innerWidth:screen.width,a=!1;960>=e&&(a=!0),l(a===!0?this.track.vote===-n.user.w?{id:t,v:0}:{id:t,v:-n.user.w}:this.track.vote===n.user.w?{id:t,v:0}:{id:t,v:n.user.w})},t.voteDown=function(t){var e=window.innerWidth>0?window.innerWidth:screen.width,a=!1;960>=e&&(a=!0),l(a===!0?this.track.vote===n.user.w?{id:t,v:0}:{id:t,v:n.user.w}:this.track.vote===-n.user.w?{id:t,v:0}:{id:t,v:-n.user.w})},s.on("channeldata",function(e){t.playlist=e.pls,t.items=t.playlist,n.channel.ct=e.ct,t.starTimer(n.channel.ct,e.current.tt),t.current=e.current;for(var a=e.pls.length,s=0;a>s;s++)t.playlist[s].vote=0});var d,m=0;t.progress=0,t.starTimer=function(e,a){m=e,d=i(function(){t.progress=(m/a*100).toFixed(2),m++},1e3)},t.stopTimer=function(){angular.isDefined(d)&&(i.cancel(d),d=void 0,t.progress=0)}}]),angular.module("trigger").controller("OnlineCtrl",["$scope","$rootScope","socket","Client",function(t,e,a,n){t.users=[],a.on("offuser",function(e){t.usersCount=t.usersCount-1;for(var a in t.users)t.users[a].id===e.uid&&t.users.splice(a,1)}),a.on("newuser",function(e){t.usersCount=t.usersCount+1;var a={id:e.uid,n:e.n,a:e.a};t.users.push(a)}),a.on("usupd",function(e){for(var a in t.users)t.users[a].id===e.uid&&(t.users[a].a=e.a)}),t.$watch(function(){return e.load.welcome},function(){e.load.welcome===!0&&(t.users=n.channel.users,t.usersCount=t.users.length),t.load.welcome=e.load.welcome},!0),t.openProfile=function(t){e.userId=t}}]),angular.module("trigger").controller("NavbarCtrl",["$scope",function(t){t.date=new Date}]),angular.module("trigger").controller("MinusesCtrl",["$scope","$rootScope","Client",function(t,e,a){t.tracks=[],t.$watch(function(){return e.load.signed},function(){e.load.signed===!0&&a.getUser({id:e.userId,uplshift:0,p:!1},function(e){t.tracks=e,t.$digest()}),t.load.signed=e.load.signed},!0)}]),angular.module("trigger").controller("LoginCtrl",["$scope","$rootScope","$mdDialog","md5","Client",function(t,e,a,n,s){function i(i){i.error?console.log(i.error):(localStorage.setItem("username",t.user.name),localStorage.setItem("password",n.createHash(t.user.password)),s.user=i.user,e.userId=i.user.id,e.load.signed=!0,a.hide(),t.$digest())}t.user={name:"",password:""},t.login=function(){""===t.user.name?s.login("DonSinDRom",n.createHash("3a12a6"),i):s.login(t.user.name,n.createHash(t.user.password),i)},t.hide=function(){a.hide()}}]),angular.module("trigger").controller("InfoCtrl",["$scope","$rootScope",function(t,e){t.selectedIndex=2,t.$watch(function(){return e.load.signed},function(){e.load.signed===!0&&(t.selectedIndex=0),t.load.signed=e.load.signed},!0),t.next=function(){t.selectedIndex=Math.min(t.data.selectedIndex+1,2)},t.previous=function(){t.selectedIndex=Math.max(t.data.selectedIndex-1,0)}}]),angular.module("trigger").controller("HistoryCtrl",["$scope","Client","socket",function(t,e,a){function n(e){t.tracks.push(e)}function s(e){t.tracks=[],a.emit("gethistory",{chid:1,s:e.shift,a:e.artist,t:e.title,top:e.top,g:e.gold},function(t){console.log("gethistory",t);for(var e in t)n(t[e])})}t.tracks=[],t.data={shift:0,artist:"",title:"",gold:!1,top:!1},t.showHistory=function(){s(t.data)},s(t.data)}]),angular.module("trigger").controller("DemocracyCtrl",["$scope",function(t){t.data={selectedIndex:1},t.president={name:"Suok",description:"упоротый напрочь"},t.moderators=[{name:"bird",id:"1",description:"упарывается"},{name:"Ucsus",id:"1912",description:"Rudolph"},{name:"Fab",id:"234",description:"Dasher"},{name:"Ololo",id:"1234",description:"редактор"},{name:"Lulz",id:"624",description:"упрт"},{name:"Suok",id:"2453",description:"начальник"}],t.banned=[{name:"bird",id:"1",reason:"упарывается"},{name:"Ucsus",id:"1912",reason:"Rudolph"},{name:"Fab",id:"234",reason:"Dasher"},{name:"Ololo",id:"1234",reason:"редактор"},{name:"Lulz",id:"624",reason:"упрт"},{name:"Suok",id:"2453",reason:"начальник"}],t.next=function(){t.data.selectedIndex=Math.min(t.data.selectedIndex+1,2)},t.previous=function(){t.data.selectedIndex=Math.max(t.data.selectedIndex-1,0)}}]),angular.module("trigger").controller("ConsoleCtrl",["$scope","$rootScope","$interval","$timeout","$mdDialog","$mdBottomSheet","Client","socket","hotkeys",function(t,e,a,n,s,i,r,o,l){function c(t,e){t.hide=function(){e.hide()}}var d=["Сделай это расслышать, username!","Гуф всё, username.","Комнаты для слабаков, username!","Будь мужиком, username! Ставь Укупника!","Только 64kbps, username! Только хардкор!","Чятик ждёт твой новый трек, username.","username покинул нас.","Нельзя просто взять и уйти из Триггера, username.","Успей сходить за алкоголем до одиннадцати, username!","Твой трек слишком длинный, username!","Ложиться спать уже бесполезно, username.","Не пытайтесь покинуть Trigger, username!","Ты помнишь жизнь до Триггера, username?","А у меня этот трек был на кассете, username. :)","[removed]alert[removed], username!","Я ДЖВА ГОДА ЖДАЛ ЭТОТ ТРЕК, username!","Bird терпел и тебе велел, username!","В хроме всё заливается, username!","Ну и зачем ты так нажрался, username?","Слушают, что дают, username.","Здесь тебя научат материться по–арабски, username!","Качает, username.","–0–1:0–52, username.","Эту песню написал Альберт Эйнштейн, username.","Прописывай теги, username!","Trigger нас не отпустит, username.","Бёрд его знает, как этот Триггер работает, username.","Включи морячка, username!","Главная проблема музыки в России — это ты, username!","Не обижай пони, username.","Диско — бездушное говно, username!","Только пост–хардкор, только хардкор, username!","Ракамакафо, username!","А ты тоже ждешь 80 порт как и я, username?","Скэтмен круче Скутера, он его заборет, username.","Триггер украл у нас Лепру, username!","ПОЙДЕМ СО МНОЙ В ПРИВАТ, username!","Всё лучше под дабстеп, username.","Музыка нас связала, username.","Что за направление сейчас играет, username?","А у тебя сколько времени, username?","Эй, username! Поставь мой компакт–диск!!!","Танцполом правит ДОБРОТА, username!","Это не 'ЧТО ЗА ГОВНО?', а музыка, username.","Trigger — первое радио, которое работает в метро, username!","Не стоит принимать теглайны близко к сердцу, username. ;)","Этот трек только для тебя, username!","Здесь иногда бывают женщины, username.","У меня одного не поёт, username?","Моби ни в чём не виноват, username.","Сейчас, ещё одна песня, и иду работать, username.","Который раз ты уходишь спать, username?","Обновляй страничку раз в 5–10 минут, пока не придёт помощь, username.","Вот это ОХУЕННЫЙ ДЖАЗ, username!","Хочешь много кармы? Поставь Beastie Boys, username!","Сегодня ты просто слушатель, username!","Вот щас моя песня сыграет — я твою СРАЗУ плюсую, username!","Давно не слушали Pink Floyd, username, выручай!","Гимн Советского Союза запрещено минусовать, username!","А ты знаешь, кто получил первый инвайт, username?","Сейчас играет музло из моих жигулей в 2005 году, username.","Спаси, сохрани и открой любым плеером, username!","Shut up and take my songs, username!","Внезапно французский рэп, username. оО","Попсу раз или в плейлист джаз, username?","Позолоти трек, username.","Тыц-тыц, username, унц-унц, username!","НЕ ДАЙ ЭТОЙ ПЕСНЕ ДОИГРАТЬ ДО КОНЦА, username!","Sepultura никогда не добиралась до эфира, username!","Лей побольше кислоты, username!","Мы поставляем Президентов Грузии с 1863 года, username.","Эту песню сам Бог написал, username, и передал её чумовейшей группе, сука %^я Тайм!","Заткнись и плюсуй! Тебе понравится, username!","Поставь ещё того мягкого тупака, username.","Я под неё в душе до сих пор танцую, username.","Нам песня строить и жить помогает, username.","Мы на кукинге, на свэге, на щегольстве, на карате, username!","Триггер уже не тот, username!","А ты уже на спорте, username?","Мы подарим тебе музыкальные перехуки, username.","Один вечер русского рока — ещё не конец, username.","Get the mashup or die buried under the sisechki, username!","Леонтьева лучше бензином заливать, username!","С теглайнами не спорят, username!","Я Триггер, я не хочу ничего решать, я хочу унц–унц, username.","Буланова тоже плачет, username.","username залил Unknown — Noname.","Я под этот трек чик клеил, username!","你好, username!","На Бога надейся, а сам сри-сливай, username!","У меня одного тупняк играет, или это у нас семейное, username?","На любителя, конечно, но мне такое нравится, username.","Большая карма — большая ответственность, username.","Когда–то инвайт давали за +11, username.","Я прослушал, давай ещё раз, username!","Посиди на Триггере, пока не откроются магазины, username!","Когда ты несёшь женщину в шляпе — это победа, username!","Покорми кота, username!","Нет радио, кроме Триггера, и username пророк его.","Здесь спиды не залёживаются, username.","♩ ♪ ♫ ♬ ☊.username.ιllιlι.ιl.","Когда я вижу, как ты плюсуешь, username, ты меня волнуешь.","ПОМНИ, username, У ТЕБЯ ЛИМИТ!","Хоп хэй лалалэй, username!","Прокрастинируешь, username?","У тебя молоко убежало, username!","Вышли инвайт боссу, username! Устрой себе отпуск!","Too much ambient, username!","Berry Weight — не Barry White, username!","Не упоминай Боярского всуе, username!","We don't need no education, username.","Would you go to bed with me, username?","Адажио Альбинони написал Ремо Джадзотто, username.","Дождь прошёл — к Infected Mushroom, username.","Минимальная длина трека — 35 см, username.","Расскажи анекдот про басиста, username.","Чем бы дитя ни тешилось, лишь бы не Скриллексом, username!","Не пытайся перестать плакать, username!","Семь раз послушай, один раз принеси, username!","Не поминай Джонни Кэша всуе, username!","Это энергичный танец, username!","Люби женщин в карму, username!","В случае опасности, заливай Айрон Мейден, username!","Мы ведём вещание на средних и низких нечистотах, username!","Музыка воодушевляет весь мир, снабжает душу крыльями, способствует полёту воображения, а ты продолжай ставить своего Укупника, username!","Музыка должна быть остра, как клинки первой конной, username! %)","Нечего лить - лей харп, username!","Думджаз - для тех, кому блюз уже не поможет, username.","Я не пидорас, но такое тащит, username! %)","Не воруй моих детей, username!","Не бери треки у наркоманов, username!","Не всё то чилл, что уныло, username!","Не весь метал одинаково полезен, username!","Поиграй на контрастах, username!","Начинай вводить, username!","Всё было хорошо, пока на Триггер не пришёл username.","Не обижай семплер, username!","Эй, username, не хочешь немного Даргомыжского?","У Джина Симмонса язык 12 сантиметров, а у username целых двадцать пять!","Держись, username!","думджаз - для тех, кому блюз уже не поможет, username","Не отключайся, username!","прекрасный альбом, username очень гашишный!","Не всё, то чилл, что уныло, username!","Не весь метал одинаково полезен, username!","Пельмени каждый может обидеть, username!","А теперь ешь своего аллигатора, username!","нет, залить ты не сможешь, username!","Боже, что ты несешь, username!","Делаешь Дабстеп? Приходи к нам на завод записывать сэмплы, username!","Как много треков тут хороших username, а плюсы тратим на попсу","Музыка души - это не колебания волн и Скриллекс, username, а не спетая ещё песня жизни.","Укради мне финскую барби, username!","В любой непонятной ситуации гугли, username!","Не отключайся, username!","Это не баян, это ротация, username"];t.users={listeners:0,active:0},t.user={name:"%username%",uplim:0};var m=document.getElementById("audio");t.volume=50,localStorage.getItem("volume")>-1?t.volume=localStorage.getItem("volume"):localStorage.setItem("volume",t.volume),t.changeVolume=function(t){localStorage.setItem("volume",t),m.volume=t/100},l.bindTo(t).add({combo:"shift+left",description:"Volume -1",allowIn:["INPUT","SELECT","TEXTAREA"],callback:function(){t.volume<=1?(t.changeVolume(0),t.volume=0):(t.changeVolume(t.volume-1),t.volume-=1)}}).add({combo:"shift+right",description:"Volume +1",allowIn:["INPUT","SELECT","TEXTAREA"],callback:function(){t.volume>=99?(t.changeVolume(100),t.volume=100):(t.changeVolume(t.volume+1),t.volume+=1)}}).add({combo:"alt+left",description:"Volume -5",allowIn:["INPUT","SELECT","TEXTAREA"],callback:function(){t.volume<=5?(t.changeVolume(0),t.volume=0):(t.changeVolume(t.volume-5),t.volume-=5)}}).add({combo:"alt+right",description:"Volume +5",allowIn:["INPUT","SELECT","TEXTAREA"],callback:function(){t.volume>=95?(t.changeVolume(100),t.volume=100):(t.changeVolume(t.volume+5),t.volume+=5)}}),t.greeting=d[Math.floor(Math.random()*d.length)].replace("username",t.user.name),a(function(){t.greeting=d[Math.floor(Math.random()*d.length)].replace("username",t.user.name)},9e3),t.$watch(function(){return e.load.welcome},function(){e.load.welcome===!0&&(t.users.listeners=r.channel.lst,t.users.active=r.channel.a,o.on("lst",function(e){t.users.listeners=e.l,t.users.active=e.a})),t.load.welcome=e.load.welcome},!0),t.$watch(function(){return e.load.signed},function(){e.load.signed===!0&&(t.user.name=r.user.n,t.user.uplim=r.user.t,o.on("uplim",function(e){t.user.uplim=e.t})),t.load.signed=e.load.signed},!0),t.data=function(){console.log("data",r)},t.showLoginModal=function(t){s.show({controller:c,templateUrl:"components/login/login.html",targetEvent:t})},t.logout=function(){r.logout(function(){""!=localStorage.getItem("password")&&(localStorage.removeItem("password"),localStorage.removeItem("username")),e.load.signed=!1,$route.reload()})},c.$inject=["$scope","$mdDialog"],t.openUploadBar=function(e){t.alert="",i.show({templateUrl:"components/upload/upload.html",controller:"UploadCtrl",targetEvent:e}).then(function(e){t.alert=e.name+" clicked!"})}}]),angular.module("trigger").controller("ChatCtrl",["$scope","$rootScope","Client","socket",function(t,e,a,n){function s(){if(t.data.tink===!0){var e=new Audio;e.canPlayType("audio/ogg")?(e.src="http://trigger.fm/sounds/tink.ogg",e.play()):(e.src="http://trigger.fm/sounds/tink.mp3",e.play())}}function i(){n.emit("getchat",{shift:0,id:1},function(e){for(var a=!1,n=e.m,i=o(),c=r(n,i),d=c.length,u=m.length,g=0;d>g;g++){for(var p=0;u>p;p++)if(c[g].m.replace(m[p][0],"")!==c[g].m){if(2>p){c[g].m=c[g].m.replace(m[p][0],m[p][1]);break}c[g].m=c[g].m.replace(m[p][0],m[p][1])}var h=l(c[g]);h&&(c[g].type=h,a=!0)}a&&s(),t.messages=c})}function r(t,e){var a=t.concat(e);return a=a.sort(function(t,e){return new Date(t.t)-new Date(e.t)})}function o(){for(var t=sessionStorage.length,e=[],a=0;t>a;a++){var n=sessionStorage.key(a),s=sessionStorage.getItem(n);n.indexOf("private")>-1&&e.push(JSON.parse(s))}return e}function l(t){return t.m.indexOf("&gt;&gt;"+a.user.n)>-1?"private":t.m.indexOf("&gt;"+a.user.n)>-1?"personal":void 0}function c(){document.querySelector("#chatInput").focus()}function d(e){if(n.emit("sendmessage",{m:e}),e){for(var a=t.message.split(" "),s=[],i=0;i<a.length;i++)a[i].indexOf(">")>-1&&s.push(a[i]);t.message=s.join(" ")+" "}}var m=[];m[0]=[],m[0][0]=/(http:\/\/[\w\-\.]+\.[a-zA-Z]{2,3}(?:\/\S*)?(?:[\w])+\.(?:jpg|png|gif|jpeg|bmp))/gim,m[0][1]='<a href="$1" target="_blank"><img src="$1" /></a>',m[1]=[],m[1][0]=/(https:\/\/[\w\-\.]+\.[a-zA-Z]{2,3}(?:\/\S*)?(?:[\w])+\.(?:jpg|png|gif|jpeg|bmp))/gim,m[1][1]='<a href="$1" target="_blank"><img src="$1" /></a>',m[2]=[],m[2][0]=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,m[2][1]='<a href="$1" target="_blank">$1</a>',m[3]=[],m[3][0]=/(^|[^\/])(www\.[\S]+(\b|$))/gim,m[3][1]='<a href="http://$1" target="_blank">$1</a>',m[4]=[],m[4][0]=/([\w\-\d]+\@[\w\-\d]+\.[\w\-\d]+)/gim,m[4][1]='<a href="mailto:$1">$1</a>',m[5]=[],m[5][0]="!!!!!!!!!!",m[5][1]="я идиот убейте меня кто нибудь! !!!!",m[6]=[],m[6][0]="))))))))))",m[6][1]='<font color="pink">недавно я познакомился с мальчиком, у него такие голубые глаза и член который еле помещается в мою... кажется я не туда пишу</font> ',m[7]=[],m[7][0]="NO.",m[7][1]='&lt;img src="/assets/images/nocover.png" style="object-fit: contain;"/&gt;',t.message="",t.messages=[],t.data={tink:!0,img:!0},localStorage.getItem("tink")===!1&&(t.data.tink=!1),localStorage.getItem("img")===!1&&(t.data.img=!1),t.setTink=function(){t.data.tink===!0?localStorage.setItem("tink",!0):localStorage.setItem("tink",!1)},t.setImg=function(){t.data.img===!0?localStorage.setItem("img",!0):localStorage.setItem("img",!1)},t.$watch(function(){return e.load.signed},function(){e.load.signed===!0&&(i(),n.on("message",function(e){var a=l(e);a?(e.type=a,s(),"private"===e.type&&sessionStorage.setItem("private"+e.t,JSON.stringify(e))):e.m.indexOf("&gt;&gt;")>-1&&sessionStorage.setItem("private"+e.t,JSON.stringify(e));for(var n=m.length,i=0;n>i;i++)if(e.m.replace(m[i][0],"")!==e.m){if(2>i){e.m=e.m.replace(m[i][0],m[i][1]);break}e.m=e.m.replace(m[i][0],m[i][1])}t.messages.push(e)})),t.load.signed=e.load.signed},!0),t.sendMessage=function(){this.message&&d(t.message)},t.addNick=function(e){var a=t.message;a=a.indexOf(">"+e)>-1?a.indexOf(">>"+e)>-1?t.message.replace(">>"+e+" ",">"+e+" "):t.message.replace(">"+e+" ",">>"+e+" "):">"+e+" "+t.message,t.message=a,c()}}]),angular.module("trigger").controller("AppCtrl",["$scope","$rootScope","$timeout","$mdSidenav","hotkeys",function(t,e,a,n,s){var i=document.getElementById("audioBtn"),r=document.getElementById("audio");t.play=!1,t.start=function(){t.play=!0,i.classList.add("play"),r.play()},"true"===localStorage.getItem("play")&&a(t.start(),5e3),t.togglePlay=function(){i.classList.toggle("play"),t.play=!t.play,t.play===!0?(localStorage.setItem("play",!0),r.play()):(localStorage.setItem("play",!1),r.pause())},s.bindTo(t).add({combo:"ctrl+space",description:"Mute current track",allowIn:["INPUT","SELECT","TEXTAREA"],callback:function(){t.togglePlay()}}).add({combo:"alt+space",description:"Mute current track",allowIn:["INPUT","SELECT","TEXTAREA"],callback:function(){t.togglePlay()}}),t.trackToChat=function(t){var e=document.querySelector("#chatInput");e&&(e.value+="/track"+t+" ",e.focus())},t.toggleLeft=function(){n("left").toggle()},t.toggleRight=function(){n("right").toggle()}}]).controller("LeftCtrl",["$scope","$timeout","$mdSidenav",function(t,e,a){t.close=function(){a("left").close()}}]).controller("RightCtrl",["$scope","$timeout","$mdSidenav",function(t,e,a){t.close=function(){a("right").close()}}]),angular.module("trigger").run(["$templateCache",function(t){t.put("components/app/app.html",'<div ng-controller="AppCtrl" layout="column" layout-fill=""><section layout="row" flex=""><md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$media(\'min-width: 600px\')"><md-toolbar class="console__switcher-cont"><audio id="audio"><source src="http://trigger.fm/stream/mainmp3" type="audio/mpeg"><source src="http://trigger.fm/stream/main" type="audio/ogg"></audio><svg id="audioBtn" class="switcher" ng-click="togglePlay()" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 850.4 595.3" enable-background="new 0 0 850.4 595.3" xml:space="preserve"><path class="b3" fill="none" stroke="#B4B4B4" stroke-width="55.3274" stroke-miterlimit="10" d="M154.7,568.2c-149-149-149-392.1,0-541.1"></path><path class="b2" fill="none" stroke="#9D9D9D" stroke-width="55.3274" stroke-miterlimit="10" d="M239,483.9C135.1,380,135.1,213.3,239,109.4"></path><path class="b1" fill="none" stroke="#7F7F7F" stroke-width="55.3274" stroke-miterlimit="10" d="M323.3,399.6c-56.9-56.9-56.9-149,0-205.8"></path><circle class="c" fill="#7F7F7F" cx="425.2" cy="297.6" r="58.8"></circle><path class="b1" fill="none" stroke="#7F7F7F" stroke-width="55.3274" stroke-miterlimit="10" d="M527.1,195.7c56.9,56.9,56.9,149,0,205.8"></path><path class="b2" fill="none" stroke="#9D9D9D" stroke-width="55.3274" stroke-miterlimit="10" d="M611.4,111.4c103.9,103.9,103.9,270.5,0,374.4"></path><path class="b3" fill="none" stroke="#B4B4B4" stroke-width="55.3274" stroke-miterlimit="10" d="M695.7,27.1c149,149,149,392.1,0,541.1"></path></svg></md-toolbar><md-content class="console__ctrl" ng-controller="LeftCtrl"><div class="console" ng-include="\'components/console/console.html\'"></div></md-content></md-sidenav><div class="viewport--H" ng-cloak=""><div class="playlist" ng-include="\'components/playlist/playlist.html\'"></div></div><md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="right" md-is-locked-open="$media(\'min-width: 960px\')"><md-content ng-controller="RightCtrl"><div class="info" ng-include="\'components/info/info.html\'"></div></md-content></md-sidenav></section></div>'),t.put("components/chat/chat.html",'<div ng-controller="ChatCtrl" class="chat__module"><md-content class="chat__md-content" scroll-glue=""><md-list class="chat__list"><md-item ng-repeat="msg in messages" class="chat__list-item"><md-item-content class="chat__item"><div class="md-tile-content" ng-class="{ \'private\': msg.pm, \'personal\': msg.type }"><span class="msg__author" ng-click="addNick(msg.uname)">{{msg.uname}}:</span> <span class="msg__message" ng-bind-html="msg.m"></span> <span class="msg__time" am-time-ago="msg.t"></span></div></md-item-content></md-item></md-list></md-content><div class="online__include" ng-include="\'components/online/online.html\'"></div><div class="chat__input-grp"><md-input-container flex=""><label>начинай вводить...</label> <textarea id="chatInput" class="chat__input" label="начинай вводить..." ng-enter="sendMessage()" ng-model="message" columns="1" md-maxlength="240" autofocus=""></textarea><div class="chat__input-nav"><md-button class="chat__button--bold" aria-label="chat-bold">bold</md-button><md-button class="chat__button--irony" aria-label="chat-irony">irony</md-button><md-checkbox ng-model="data.tink" ng-change="setTink()" aria-label="Тиньк" class="chat__checkbox--tink">Тиньк</md-checkbox><md-checkbox ng-model="data.img" ng-change="setImg()" aria-label="Картинки" class="chat__checkbox--img">Картинки</md-checkbox></div></md-input-container></div></div>'),t.put("components/console/console.html",'<md-toolbar class="console__include" layout="column" layout-align="center center" ng-controller="ConsoleCtrl"><md-slider ng-model="volume" aria-label="volume-slider" ng-change="changeVolume(volume)" min="0" max="100" step="1"></md-slider><img ng-src="assets/images/logo.png" class="console__logo" ng-click="data()"><md-button class="console__login-btn" aria-label="console-login" ng-show="!load.signed" ng-click="showLoginModal($event)">Log in</md-button><p class="console__stat">Слушают <span class="console__listeners">{{users.listeners}}</span> из них активно: <span class="console__active-users">{{users.active}}</span></p><md-button class="console__buttton--upload" aria-label="uploader-btn" ng-click="openUploadBar($event)"><ng-md-icon icon="file_upload" size="24"></ng-md-icon></md-button><p class="console__user-limit" ng-show="load.signed">Ты можешь залить<time class="console__limit">{{user.uplim | readableTime}}</time></p><p class="console__greating" ng-bind="greeting"></p><p class="console__links"><a href="#" class="console__link">Жертвенник</a> <a href="#" class="console__link">Уголок потребителя</a> <a href="#" class="console__link">Сделать ночь</a> <a href="#" class="console__link">RTFM</a></p><md-button class="console__login-btn" aria-label="console-logout" ng-show="load.signed" ng-click="logout()">Log out</md-button></md-toolbar>'),t.put("components/democracy/democracy.html",'<div ng-controller="DemocracyCtrl" class="democracy__ctrl"><ng-switch on="data.selectedIndex" class="democracy__tabpanel-container"><div role="tabpanel" id="tabModerList-content" aria-labelledby="tabModerList" ng-switch-when="0" md-swipe-left="next()" md-swipe-right="previous()"><md-card class="democracy__elections"><h4 class="t-a-semicolon democracy__header">Выборы</h4><md-input-container class="democracy__elections-input"><label>ID кандидата</label> <input type="text" ng-model="user.lastName"></md-input-container><div class="democracy__elections-row"><span class="democracy__elections-choice"><span class="t-a-semicolon">Ты проголосовал за</span> <span class="t-b-space democracy__elections-username">Suok</span></span><md-button aria-label="vote" class="md-raised democracy__elections-btn">Голосовать</md-button></div></md-card><md-card class="democracy__admin"><div class="president"><div class="header">Президент:</div><div class="content"><md-button aria-label="view-president" class="md-raised democracy__president-btn">{{president.name}}</md-button><span class="t-b-space-hyphen-space">{{president.description}}</span></div></div><div class="ban"><div class="header">Забанить:</div><div class="content"><md-input-container class="input--id"><label>ID</label> <input type="text" ng-model="user.lastName"></md-input-container><md-input-container class="input--reason"><label>Причина бана</label> <input type="text" ng-model="user.lastName"></md-input-container><md-button aria-label="ban-user" class="md-raised ban--btn">Yarrr!</md-button></div></div><div class="moder"><div class="header">Модеры:</div><div class="content" ng-repeat="mod in moderators"><span class="democracy__moderator"><md-button aria-label="view-moderator" class="md-raised democracy__moderator">{{mod.name}}</md-button><span class="t-b-space-hyphen-space">{{mod.description}}</span></span></div></div><div class="banned"><div class="header">Президент:</div><div class="content" ng-repeat="toll in banned"><span class="democracy__moderator"><md-button aria-label="view-banned" class="md-raised democracy__moderator">{{toll.name}}</md-button><span class="t-b-space-hyphen-space">{{toll.reason}}</span></span></div></div></md-card></div><div role="tabpanel" id="tabModerText-content" aria-labelledby="tabModerText" ng-switch-when="1" md-swipe-left="next()" md-swipe-right="previous()"><md-card class="democracy__list"><p>История кое-как работает. Если кликнуть на ник в чате - то ему можно отправить личное сообщение. Клики на юзеров в блоке "онлайн" тоже работают.<br>Можно слушать музыку! Клик на ту штуку в левом верхнем углу!<br>И да, можно уже попробовать открыть клиент на мобильнике! Ура.<br></p></md-card></div></ng-switch><md-tabs class="md-accent" md-selected="data.selectedIndex"><md-tab id="ModerList" aria-controls="tabModerList-content"><span class="tabs__full">Moder</span> <span class="tabs__icon"><ng-md-icon icon="account_balance" size="24"></ng-md-icon></span></md-tab><md-tab id="tabModerText" aria-controls="tabModerText-content"><span class="tabs__full">Text</span> <span class="tabs__icon"><ng-md-icon icon="question_answer" size="24"></ng-md-icon></span></md-tab></md-tabs></div>'),t.put("components/history/history.html",'<div ng-controller="HistoryCtrl" class="history__module"><div class="history__search-grp"><md-checkbox ng-model="data.gold" ng-change="showHistory()" aria-label="Золото" class="history__checkbox--gold">Золото</md-checkbox><md-input-container class="history--input"><label>Артист</label> <input type="text" ng-model="data.artist"></md-input-container><md-input-container class="history--input"><label>Название</label> <input type="text" ng-model="data.title" ng-enter="showHistory()"></md-input-container><md-button class="md-fab history--search-btn" ng-click="showHistory()" aria-label="Search-button"><ng-md-icon icon="search" size="24"></ng-md-icon></md-button></div><md-content class="history__content"><md-list layout="column" class="playlist__list"><md-item ng-repeat="track in tracks | orderBy:\'tt\':true" class="playlist__track" ng-class="{\'track--gold\': gold == true}"><div class="track__img-cont"><img ng-src="assets\\images\\nocover.png" class="track__img" alt=""></div><div class="track__row"><div class="track__base"><div class="track__content"><h3 class="track__artist">{{track.a}}</h3><h4 class="track__title">{{track.t}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in track.tg">{{tag.n}}</span></div><div class="track__time"><span>+{{track.tt | readableTime}}</span></div></div><div class="track__additional"><div class="track__links"><a href="http://vk.com/audio?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>vk</a> <a href="http://muzebra.com/search/?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>muzebra</a> <a href="#" class="track__link" ng-click="trackToChat(track.id)">>в чат</a></div><div class="track__upload-info">прнс <a href="#" {{track.sid}}="">{{ track.s }}</a><span am-time-ago="track.ut"></span></div></div></div><div class="track__votes-block"><span class="track__rating">{{track.r}}</span></div></md-item></md-list><div class="histroy--emtpy" ng-show="tracks.length < 1"><p class="history--empty-text"><ng-md-icon icon="adb" size="24"></ng-md-icon>К сожалению ничего не нашлось</p></div></md-content></div>'),t.put("components/info/info.html",'<div ng-controller="InfoCtrl" class="tabsdemoStaticTabs" layout="column"><md-tabs md-selected="selectedIndex" flex=""><md-tab id="tabChat" aria-controls="tabChat-content" ng-show="load.signed"><md-tab-label><span class="tabs__full">Чат</span> <span class="tabs__icon"><ng-md-icon icon="chat" size="24"></ng-md-icon></span></md-tab-label><div class="chat" ng-include="\'components/chat/chat.html\'" ng-show="load.signed"></div></md-tab><md-tab id="tabHistory" aria-controls="tabHistory-content"><md-tab-label><span class="tabs__full">История</span> <span class="tabs__icon"><ng-md-icon icon="history" size="24"></ng-md-icon></span></md-tab-label><div class="history" ng-include="\'components/history/history.html\'"></div></md-tab><md-tab id="tabDemocracy" aria-controls="tabDemocracy-content"><md-tab-label><span class="tabs__full">Демократия</span> <span class="tabs__icon"><ng-md-icon icon="whatshot" size="24"></ng-md-icon></span></md-tab-label><div class="democracy__include" ng-include="\'components/democracy/democracy.html\'"></div></md-tab><md-tab id="tabProfile" aria-controls="tabProfile-content" ng-show="load.signed"><md-tab-label><span class="tabs__full">Профиль</span> <span class="tabs__icon"><ng-md-icon icon="person" size="24"></ng-md-icon></span></md-tab-label><div class="profile__include" ng-include="\'components/profile/profile.html\'"></div></md-tab></md-tabs></div>'),t.put("components/login/login.html",'<md-dialog aria-label="login-modal" class="login__ctrl" ng-controller="LoginCtrl"><md-card layout="column" layout-align="center center" class="login__card"><md-input-container class="login__username"><label>Username</label> <input inputmode="latin" ng-model="user.name" type="text"></md-input-container><md-input-container class="login__username"><label>Password</label> <input inputmode="latin" ng-model="user.password" ng-enter="login()" type="password"></md-input-container><md-button aria-label="login--btn" class="login__btn" ng-click="login()">Yarrr!</md-button></md-card></md-dialog>'),t.put("components/minuses/minuses.html",'<div class="minuses__ctrl" ng-controller="MinusesCtrl"><md-content class="history__content"><md-list layout="column" class="playlist__list"><md-item ng-repeat="track in tracks | orderBy:\'tt\':true" class="playlist__track"><div class="track__img-cont"><img ng-src="assets\\images\\nocover.png" class="track__img" alt=""></div><div class="track__row"><div class="track__base"><div class="track__content"><h3 class="track__artist">{{track.a}}</h3><h4 class="track__title">{{track.t}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in track.tg">{{tag.n}}</span></div><div class="track__time"><span>+{{track.tt | readableTime}}</span></div></div><div class="track__additional"><div class="track__links"><a href="http://vk.com/audio?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>vk</a> <a href="http://muzebra.com/search/?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>muzebra</a> <a href="#" class="track__link" ng-click="trackToChat(track.id)">>в чат</a></div><div class="track__upload-info">прнс <a href="#" {{track.sid}}="">{{ track.s }}</a><span am-time-ago="track.ut"></span></div></div></div><div class="track__votes-block"><span class="track__rating">{{track.r}}</span></div></md-item></md-list></md-content></div>'),t.put("components/navbar/navbar.html",'<md-toolbar layout="row" layout-align="center center" ng-controller="NavbarCtrl"><md-button aria-label="lulz" href="https://github.com/Swiip/generator-gulp-angular">Gulp Angular</md-button><section flex="" layout="row" layout-align="left center"><md-button href="#" class="md-raised">Home</md-button><md-button href="#" class="md-raised">About</md-button><md-button href="#" class="md-raised">Contact</md-button></section><md-button aria-label="example" href="#">Current date: {{ date | date:\'yyyy-MM-dd\' }}</md-button></md-toolbar>'),t.put("components/online/_template.html",""),t.put("components/online/online.html",'<div class="online__ctrl" ng-controller="OnlineCtrl"><p class="online__here">Здесь: <span class="online__counter">{{usersCount}}</span></p><md-content class="online__md-content"><md-list class="online__list"><md-item ng-repeat="user in users" class="online__list-item"><md-item-content class="online__item" ng-class="{active: user.a==true}"><md-button ng-click="openProfile(user.id)" aria-label="open-user-profile" class="user__2profile">i</md-button><md-button ng-click="addNick(user.n)" aria-label="add-user-to-chat" class="user__2chat">{{user.n}}</md-button></md-item-content></md-item></md-list></md-content></div>'),t.put("components/playlist/playlist.html",'<div class="playlist__ctrl" layout="column" ng-controller="PlaylistCtrl"><md-toolbar class="playlist__toolbar"><h2 class="md-toolbar-tools playlist__toolbar-tools"><md-button class="playlist__leftbar-swither" aria-label="leftbar-switcher" ng-click="toggleLeft()"><svg class="playlist__leftbar-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 56 56" enable-background="new 0 0 56 56" xml:space="preserve"><path class="b3" fill="none" stroke="#B4B4B4" stroke-width="3" stroke-miterlimit="10" d="M14.2,41.8c-7.6-7.6-7.6-20,0-27.6"></path><path class="b2" fill="none" stroke="#9D9D9D" stroke-width="3" stroke-miterlimit="10" d="M18.5,37.5c-5.3-5.3-5.3-13.8,0-19.1"></path><path class="b1" fill="none" stroke="#7F7F7F" stroke-width="3" stroke-miterlimit="10" d="M22.8,33.2c-2.9-2.9-2.9-7.6,0-10.5"></path><circle class="c" fill="#7F7F7F" cx="28" cy="28" r="3"></circle><path class="b1" fill="none" stroke="#7F7F7F" stroke-width="3" stroke-miterlimit="10" d="M33.2,22.8c2.9,2.9,2.9,7.6,0,10.5"></path><path class="b2" fill="none" stroke="#9D9D9D" stroke-width="3" stroke-miterlimit="10" d="M37.5,18.5c5.3,5.3,5.3,13.8,0,19.1"></path><path class="b3" fill="none" stroke="#B4B4B4" stroke-width="3" stroke-miterlimit="10" d="M41.8,14.2c7.6,7.6,7.6,20,0,27.6"></path></svg></md-button><md-button class="playlist__rightbar-swither" aria-label="rightbar-switcher" ng-click="toggleRight()"><ng-md-icon icon="view_carousel" size="24"></ng-md-icon></md-button></h2></md-toolbar><md-content class="playlist__content--current"><md-list layout="column" class="playlist__list"><md-item class="playlist__track"><div class="track__img-cont"><img ng-src="assets\\images\\nocover.png" class="track__img" alt=""></div><div class="track__row"><div class="track__base"><div class="track__content"><h3 class="track__artist">{{track.a}}</h3><h4 class="track__title">{{track.t}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in track.tg">{{tag.n}}</span></div><div class="track__time"><span>+{{track.tt | readableTime}}</span></div></div><div class="track__additional"><div class="track__links"><a href="http://vk.com/audio?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>vk</a> <a href="http://muzebra.com/search/?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>muzebra</a> <a href="#" class="track__link" ng-click="trackToChat(track.id)">>в чат</a></div><div class="track__upload-info">прнс <a href="#" {{track.sid}}="">{{ track.s }}</a><span am-time-ago="track.ut"></span></div></div></div><div class="track__votes-block" ng-class="{ \'voted--up\': track.vote > 0, \'voted--down\': track.vote < 0 }" ng-show="load.signed"><md-button class="md-fab track__vote--down" aria-label="track-up" ng-click="voteDown(track.id)"><ng-md-icon icon="expand_more" size="24"></ng-md-icon></md-button><span class="track__rating">{{track.r}}</span><md-button class="md-fab track__vote--up" aria-label="track-down" ng-click="voteUp(track.id)"><ng-md-icon icon="expand_less" size="24"></ng-md-icon></md-button></div><div class="track__progress"><div class="track__progress-active" style="width:{{progress}}%;"></div></div></md-item></md-list></md-content><md-content class="playlist__content" scroll-glue="reverse"><md-list layout="column" class="playlist__list"><md-item ng-repeat="track in playlist track by track.id" class="playlist__track" style="order: {{reverse*100 - track.r}}"><div class="track__img-cont"><img ng-src="assets\\images\\nocover.png" class="track__img" alt="" ng-click="data(track)"></div><div class="track__row"><div class="track__base"><div class="track__content"><h3 class="track__artist">{{track.a}}</h3><h4 class="track__title">{{track.t}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in track.tg">{{tag.n}}</span></div><div class="track__time"><span>+{{track.tt | readableTime}}</span></div></div><div class="track__additional"><div class="track__links"><a href="#" class="track__link">>vk</a> <a href="#" class="track__link">>muzebra</a> <a href="#" class="track__link" ng-click="trackToChat(track.id)">>в чат</a></div><div class="track__upload-info">прнс <a href="#" {{track.sid}}="">{{ track.s }}</a><span am-time-ago="track.ut"></span></div></div></div><div class="track__votes-block" ng-class="{ \'voted--up\': track.vote > 0, \'voted--down\': track.vote < 0 }" ng-show="load.signed"><md-button class="md-fab track__vote--down" aria-label="track-up" ng-click="voteDown(track.id)"><ng-md-icon icon="expand_more" size="24"></ng-md-icon></md-button><span class="track__rating">{{track.r}}</span><md-button class="md-fab track__vote--up" aria-label="track-down" ng-click="voteUp(track.id)"><ng-md-icon icon="expand_less" size="24"></ng-md-icon></md-button></div></md-item></md-list></md-content></div>'),t.put("components/pluses/pluses.html",'<div class="pluses__ctrl" ng-controller="PlusesCtrl"><md-content class="history__content"><md-list layout="column" class="playlist__list"><md-item ng-repeat="track in tracks | orderBy:\'tt\':true" class="playlist__track"><div class="track__img-cont"><img ng-src="assets\\images\\nocover.png" class="track__img" alt=""></div><div class="track__row"><div class="track__base"><div class="track__content"><h3 class="track__artist">{{track.a}}</h3><h4 class="track__title">{{track.t}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in track.tg">{{tag.n}}</span></div><div class="track__time"><span>+{{track.tt | readableTime}}</span></div></div><div class="track__additional"><div class="track__links"><a href="http://vk.com/audio?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>vk</a> <a href="http://muzebra.com/search/?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>muzebra</a> <a href="#" class="track__link" ng-click="trackToChat(track.id)">>в чат</a></div><div class="track__upload-info">прнс <a href="#" {{track.sid}}="">{{ track.s }}</a><span am-time-ago="track.ut"></span></div></div></div><div class="track__votes-block"><span class="track__rating">{{track.r}}</span></div></md-item></md-list></md-content></div>'),t.put("components/profile/profile.html",'<div class="profile__ctrl" ng-controller="ProfileCtrl"><ng-switch on="data.selectedIndex" class="profile__tabpanel-container"><div role="tabpanel" id="tabUser-content" aria-labelledby="tabUser" ng-switch-when="0" md-swipe-left="next()" md-swipe-right="previous()"><div class="user__include" ng-include="\'components/user/user.html\'"></div></div><div role="tabpanel" id="tabUploads-content" aria-labelledby="tabUploads" ng-switch-when="1" md-swipe-left="next()" md-swipe-right="previous()"><div class="uploads__include" ng-include="\'components/uploads/uploads.html\'"></div></div><div role="tabpanel" id="tabPluses-content" aria-labelledby="tabPluses" ng-switch-when="2" md-swipe-left="next()" md-swipe-right="previous()"><div class="pluses__include" ng-include="\'components/pluses/pluses.html\'"></div></div><div role="tabpanel" id="tabMinuses-content" aria-labelledby="tabMinuses" ng-switch-when="3" md-swipe-left="next()" md-swipe-right="previous()"><div class="minuses__include" ng-include="\'components/minuses/minuses.html\'"></div></div><div role="tabpanel" id="tabSettings-content" aria-labelledby="tabSettings" ng-switch-when="4" md-swipe-left="next()" md-swipe-right="previous()" ng-show="isMyProfile"><div class="settings__include" ng-include="\'components/settings/settings.html\'"></div></div></ng-switch><md-tabs class="md-accent" md-selected="data.selectedIndex"><md-tab id="tabUser" aria-controls="tabUser-content"><span class="tabs__full">User</span> <span class="tabs__icon"><ng-md-icon icon="home" size="24"></ng-md-icon></span></md-tab><md-tab id="tabUploads" aria-controls="tabUploads-content"><span class="tabs__full">Uploads</span> <span class="tabs__icon"><ng-md-icon icon="file_upload" size="24"></ng-md-icon></span></md-tab><md-tab id="tabPluses" aria-controls="tabPluses-content"><span class="tabs__full">Pluses</span> <span class="tabs__icon"><ng-md-icon icon="thumb_up" size="24"></ng-md-icon></span></md-tab><md-tab id="tabMinuses" aria-controls="tabMinuses-content"><span class="tabs__full">Minuses</span> <span class="tabs__icon"><ng-md-icon icon="thumb_down" size="24"></ng-md-icon></span></md-tab><md-tab id="tabSettings" aria-controls="tabSettings-content" ng-show="isMyProfile"><span class="tabs__full">Settings</span> <span class="tabs__icon"><ng-md-icon icon="settings" size="24"></ng-md-icon></span></md-tab></md-tabs></div>'),t.put("components/settings/settings.html",'<div class="settings__ctrl" ng-controller="SettingsCtrl"><md-card class="settings__card"><div class="settings__logout"><md-button class="settings__logout-btn" aria-label="logout">Log out</md-button></div><div class="settings__chat"><md-checkbox ng-model="data.tink" aria-label="Тинькать" class="settings__tink">Тинькать</md-checkbox><md-checkbox ng-model="data.img" aria-label="Показывать изображения" class="settings__img">Показывать изображения</md-checkbox><md-checkbox ng-model="data.female" aria-label="Ура! Я женщина!" class="settings__female">Ура! Я женщина!</md-checkbox></div><div class="settings__password"><md-text-float class="settings__password--old" aria-label="settings-old-password" label="Старый пароль" ng-model="message"></md-text-float><md-text-float class="settings__password--new" aria-label="settings-new-password" label="Новый пароль" ng-model="message"></md-text-float><md-text-float class="settings__password--new" label="Еще раз" ng-model="message"></md-text-float><md-button class="settings__password-btn" aria-label="change-password">Yarrr!</md-button></div></md-card></div>'),t.put("components/upload/upload.html",'<md-bottom-sheet class="md-grid uploadbar"><md-button>Upload - Drag & Drop here!</md-button><md-list><md-item ng-repeat="item in items"><md-button class="md-grid-item-content" aria-label="{{item.name}}" ng-click="listItemClick($index)"><div class="md-icon-container"><md-inline-grid-icon icon="{{item.icon}}"></md-inline-grid-icon></div><p class="md-grid-text">111</p></md-button></md-item></md-list></md-bottom-sheet>'),t.put("components/uploads/uploads.html",'<div class="uploads__ctrl" ng-controller="UploadsCtrl"><md-content class="history__content"><md-list layout="column" class="playlist__list"><md-item ng-repeat="track in tracks | orderBy:\'tt\':true" class="playlist__track"><div class="track__img-cont"><img ng-src="assets\\images\\nocover.png" class="track__img" alt=""></div><div class="track__row"><div class="track__base"><div class="track__content"><h3 class="track__artist">{{track.a}}</h3><h4 class="track__title">{{track.t}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in track.tg">{{tag.n}}</span></div><div class="track__time"><span>+{{track.tt | readableTime}}</span></div></div><div class="track__additional"><div class="track__links"><a href="http://vk.com/audio?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>vk</a> <a href="http://muzebra.com/search/?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>muzebra</a> <a href="#" class="track__link" ng-click="trackToChat(track.id)">>в чат</a></div><div class="track__upload-info">прнс <a href="#" {{track.sid}}="">{{ track.s }}</a><span am-time-ago="track.ut"></span></div></div></div>s<div class="track__votes-block"><span class="track__rating">{{track.r}}</span></div></md-item></md-list></md-content></div>'),t.put("components/user/user.html",'<div class="user__ctrl" ng-controller="UserCtrl"><md-card class="profile__main"><div class="user__nav"><div class="user_names-block"><span class="user__name">{{user.name}}</span> <span class="user__id">#{{user.id}}</span></div><div class="user__votes-block"><md-button class="md-fab user__vote--up" aria-label="user-plus" ng-show="!isMyProfile" ng-click="voteUp(track.id)"><ng-md-icon icon="expand_more" size="24"></ng-md-icon></md-button><span class="user__karma">{{user.karma}}</span><md-button class="md-fab user__vote--down" aria-label="user-minus" ng-show="!isMyProfile" ng-click="voteDown(track.id)"><ng-md-icon icon="expand_less" size="24"></ng-md-icon></md-button></div></div><div class="user__main"><img class="user__img" ng-src="assets/images/ear.png" alt=""><div class="user__additional"><p class="user__descripton" ng-bind-html="user.i"></p><p class="user__origin">С нами с <span class="user__regdate">{{user.reg | date:\'d.MM.y\'}}</span> <span ng-show="user.invites.p.name">по приглашению <button class="user__father" aria-label="user-origin">{{user.invites.p.name}}</button></span></p><p class="user__invited" ng-show="user.invites.u.length">{{user.g ? \'Понаприглашал\' : \'Понаприглашала\'}}: <span class="user__children" ng-repeat="child in user.invites.u"><button class="user__child" aria-label="user-child">{{child.n}}</button></span></p></div></div><div class="user__control"><md-checkbox ng-model="data.img" aria-label="ОМММ" class="user__ignore">ОМММ</md-checkbox><md-button class="user__ban" aria-label="user-ban">Забанить</md-button></div></md-card></div>')
}]);
